---
title: Using Nuxt Bridge with Nuxt 2
description: How to add Nuxt Bridge to your Nuxt 2 project
tags: ['Composition API', 'Vue 3', 'Nuxt 3', 'Nuxt Bridge']
---

## What is Nuxt Bridge

Nuxt Bridge lets you use Vue 3 features in your Nuxt 2 project. Mainly I will be adding this to our dog tracker app since I want to learn the Vue Composition API available in Vue 3. Why don't I just use Nuxt 3 then, well I also want to learn Chakra UI and that's not Vue 3 compatible ([yet as I'm typing this](https://github.com/chakra-ui/chakra-ui-vue-next)). By using Nuxt Bridge it will hopefully be easier to migrate to Nuxt 3 and Vue 3 once I'm ready for it.

## Adding Nuxt Bridge to our project

### Install the latest version of `nuxt-edge`

We'll be using [this guide](https://v3.nuxtjs.org/bridge/overview) to add Nuxt Bridge to our project. Start by stopping the dev server if that was running, delete any package lock files and then install the latest version of `nuxt-edge`. This is done by replacing the `nuxt` entry in your package.json file with `"nuxt-edge": "latest"`

```json[package.json]
- "nuxt": "^2.15.18"
+ "nuxt-edge": "latest"
```

Then we re-install everything by running `yarn install`.

### Install Nuxt Brige

Next up is installing `@nuxt/bridge-edge`

```shell
~/projects/dog-app (main) Â» yarn add --dev @nuxt/bridge@npm:@nuxt/bridge-edge
```

### Update your scripts

We now need to update the dev, build and start scripts in `package.json` to use `nuxi` that is introduced by Nuxt 3. Best to follow [the guide](https://v3.nuxtjs.org/bridge/overview#nuxi) for this one as the scripts might vary depending on your `target` in `nuxt.config.js`

```
"scripts": {
-   "dev": "nuxt",
+   "dev": "nuxi dev",
-   "build": "nuxt build",
+   "build": "nuxi generate",
-   "start": "nuxt start",
+   "start": "nuxi preview"
  }
```

### Update your config file

Again best to follow the [official guide](https://v3.nuxtjs.org/bridge/overview#update-nuxtconfig) for this part. I decided to use TypeScript for my nuxt config so I renamed this to `nuxt.config.ts`. I also added `"extends": "./.nuxt/tsconfig.json",` to my `tsconfig.json` file to get autogenerated Nuxt types.

Because this is a brand new project and we had not added a Composition API plugin we don't have to worry about migrating any of those. Best to check that you don't have any [incompatible or obsolete modules](https://v3.nuxtjs.org/bridge/overview#remove-incompatible-and-obsolete-modules) in your `nuxt.config.ts` file.

### Upgrade Chakra UI

At this point I tried to run `yarn dev` to make sure all was working but I got an error about removing `@nuxt/typescript-build` from my nuxt config file. After doing that and trying again it seemed as if there was a problem with Chakra UI and I got an error: `defu is not a function`. This was fixed by upgrading Chakra UI to version `0.6.0`.

### Testing the composition API

The last thing to do is to test that all works when we use the Composition API in a component. So I added a new file under `pages` called `Count.vue` and inside I added a very simple count component (see below). I then started the dev server up again and navigated to `http://localhost:3000/count` to test the component and that the Composition API is working in our app.

```ts[Count.vue]
<template>
  <div>
    <span> {{ count }}</span>
    <button @click="increment">+</button>
    <button @click="reduce">-</button>
  </div>
</template>

<script lang="ts">
import { reactive, toRefs } from 'vue'
export default {
  name: 'CountComponent',
  setup() {
    const state = reactive({
      count: 0,
    })

    const increment = () => {
      state.count = state.count + 1
    }

    const reduce = () => {
      state.count = state.count - 1
    }

    return {
      ...toRefs(state),
      increment,
      reduce,
    }
  },
}
</script>
```

We're now ready to start building the app, exciting!
